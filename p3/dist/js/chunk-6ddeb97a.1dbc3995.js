(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ddeb97a"],{"8fdc":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"account-page"}},[t.user?e("div",[e("h2",[t._v("Hi, "+t._s(t.user.name)+"!")]),e("div",{attrs:{id:"posts"}},[e("strong",[t._v("Your Posts")]),t.userPosts&&0==t.userPosts.length?e("p",[t._v(" No Posts yet. ")]):t._e(),t._l(t.userPosts,(function(s,o){return e("li",{key:o},[t._v(" "+t._s(s.title)+" ")])}))],2),e("button",{on:{click:t.logout}},[t._v("Logout")])]):e("div",{attrs:{id:"loginForm"}},[e("h2",[t._v("Login")]),e("small",[t._v("(Form is prefilled for demonstration purposes; remove in final application)")]),e("div",[e("label",[t._v("Email: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],attrs:{type:"text"},domProps:{value:t.data.email},on:{input:function(s){s.target.composing||t.$set(t.data,"email",s.target.value)}}})])]),e("div",[e("label",[t._v("Password: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],attrs:{type:"password"},domProps:{value:t.data.password},on:{input:function(s){s.target.composing||t.$set(t.data,"password",s.target.value)}}})])]),e("button",{on:{click:t.login}},[t._v("Login")]),t.errors?e("ul",t._l(t.errors,(function(s,o){return e("li",{key:o,staticClass:"error"},[t._v(" "+t._s(s)+" ")])})),0):t._e()])])},a=[],r=(e("d81d"),e("1112")),n={data:function(){return{data:{email:"jill@harvard.edu",password:"asdfasdf"},errors:null,userPosts:null}},computed:{user:function(){return this.$store.state.user}},methods:{login:function(){var t=this;r["a"].post("login",this.data).then((function(s){s.data.authenticated?t.$store.commit("setUser",s.data.user):t.errors=s.data.errors}))},logout:function(){var t=this;r["a"].post("logout").then((function(s){s.data.success&&t.$store.commit("setUser",null)}))},loadPosts:function(){var t=this;this.user&&(this.userPosts=[],console.log(this.userPosts),r["a"].get("post",{}).then((function(s){t.userPosts=s.data.post.map((function(s){return t.$store.getters.getPosts(s.id)})),console.log(t.userPosts)})))}},watch:{user:function(){this.loadPosts()}},mounted:function(){this.loadPosts()}},i=n,u=e("2877"),d=Object(u["a"])(i,o,a,!1,null,null,null);s["default"]=d.exports},d81d:function(t,s,e){"use strict";var o=e("23e7"),a=e("b727").map,r=e("1dde"),n=e("ae40"),i=r("map"),u=n("map");o({target:"Array",proto:!0,forced:!i||!u},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6ddeb97a.1dbc3995.js.map