{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/thread-loader/dist/cjs.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/AccountPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/AccountPage.vue","mtime":1608071110929},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9pbXBvcnQgeyBheGlvcyB9IGZyb20gJ0AvY29tbW9uL2FwcC5qcyc7CmltcG9ydCB7IGF4aW9zIH0gZnJvbSAiQC9hcHAuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIEZvcm0gaXMgcHJlZmlsbGVkIGZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzOyByZW1vdmUgaW4gZmluYWwgYXBwbGljYXRpb24KICAgICAgZGF0YTogewogICAgICAgIGVtYWlsOiAnamlsbEBoYXJ2YXJkLmVkdScsCiAgICAgICAgcGFzc3dvcmQ6ICdhc2RmYXNkZicKICAgICAgfSwKICAgICAgZXJyb3JzOiBudWxsLAogICAgICB1c2VyUG9zdHM6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcjogZnVuY3Rpb24gdXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXI7CiAgICB9IC8vIHBvc3RzKCkgewogICAgLy8gICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0czsKICAgIC8vIH0sCgogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgnbG9naW4nLCB0aGlzLmRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYXV0aGVudGljYXRlZCkgewogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9ycyA9IHJlc3BvbnNlLmRhdGEuZXJyb3JzOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgnbG9nb3V0JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIG51bGwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZFBvc3RzOiBmdW5jdGlvbiBsb2FkUG9zdHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudXNlcikgewogICAgICAgIHRoaXMudXNlclBvc3RzID0gW107CiAgICAgICAgY29uc29sZS5sb2codGhpcy51c2VyUG9zdHMpOwogICAgICAgIGF4aW9zLmdldCgncG9zdCcsIHsvL3BhcmFtczogeyB1c2VyX2lkOiB0aGlzLnVzZXIuaWQgfSwKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBwb3N0cyAocmVzcG9uc2UuZGF0YS5yZXN1bHRzKSwgbG9hZGluZyB0aGUgcG9zdCBpbmZvcm1hdGlvbiBmb3IgZWFjaCBwb3N0CiAgICAgICAgICBfdGhpczMudXNlclBvc3RzID0gcmVzcG9uc2UuZGF0YS5wb3N0Lm1hcChmdW5jdGlvbiAocG9zdCkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucG9zdCk7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmdldHRlcnMuZ2V0UG9zdHMocG9zdC5pZCk7CiAgICAgICAgICB9KTsgLy9jb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFBvc3RzKCBwb3N0LmlkICkpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMy51c2VyUG9zdHMpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8gV2hlbiB1c2VyIGNoYW5nZXMsIHVwZGF0ZSBwb3N0cwogICAgdXNlcjogZnVuY3Rpb24gdXNlcigpIHsKICAgICAgdGhpcy5sb2FkUG9zdHMoKTsgLy8gaWYgKHRoaXMudXNlcikgewogICAgICAvLyAgICAgdGhpcy51c2VyUG9zdHMgPSBbXTsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMudXNlclBvc3RzKTsKICAgICAgLy8gICAgIGF4aW9zCiAgICAgIC8vICAgICAgICAgLmdldCgncG9zdCcsIHsKICAgICAgLy8gICAgICAgICAgICAgLy9wYXJhbXM6IHsgdXNlcl9pZDogdGhpcy51c2VyLmlkIH0sCiAgICAgIC8vICAgICAgICAgfSkKICAgICAgLy8gICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgLy8gICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBwb3N0cyAocmVzcG9uc2UuZGF0YS5yZXN1bHRzKSwgbG9hZGluZyB0aGUgcG9zdCBpbmZvcm1hdGlvbiBmb3IgZWFjaCBwb3N0CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMudXNlclBvc3RzID0gcmVzcG9uc2UuZGF0YS5wb3N0Lm1hcCgKICAgICAgLy8gICAgICAgICAgICAgICAgIChwb3N0KSA9PiB7CiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnBvc3QpOwogICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFBvc3RzKAogICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0LmlkCiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgICAgKTsKICAgICAgLy8gICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFBvc3RzKCBwb3N0LmlkICkpOwogICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJQb3N0cyk7CiAgICAgIC8vICAgICAgICAgfSk7CiAgICAgIC8vIH0KICAgIH0sCiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB0aGlzLmxvYWRQb3N0cygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AccountPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA,SAAA,KAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,kBADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA,IANA;AAOA,MAAA,SAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA,KAHA,CAIA;AACA;AACA;;AANA,GAZA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA,KAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA,OANA;AAOA,KATA;AAUA,IAAA,MAVA,oBAUA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,IAAA;AACA;AACA,OAJA;AAKA,KAhBA;AAiBA,IAAA,SAjBA,uBAiBA;AAAA;;AACA,UAAA,KAAA,IAAA,EAAA;AAEA,aAAA,SAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA;AACA,QAAA,KAAA,CACA,GADA,CACA,MADA,EACA,CACA;AADA,SADA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CACA,UAAA,IAAA,EAAA;AACA;AACA,mBAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CACA,IAAA,CAAA,EADA,CAAA;AAGA,WANA,CAAA,CAFA,CAUA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA;AACA,SAhBA;AAiBA;AACA;AAxCA,GApBA;AA8DA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AACA,WAAA,SAAA,GADA,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1BA;AA2BA,IAAA,OA3BA,qBA2BA;AACA,WAAA,SAAA;AACA;AA7BA;AA9DA,CAAA","sourcesContent":["<template>\n    <div id=\"account-page\">\n        <div v-if=\"user\">\n            <h2>Hi, {{ user.name }}!</h2>\n\n            <div id=\"posts\">\n                <strong>Your Posts</strong>\n                <p v-if=\"userPosts && userPosts.length == 0\">\n                    No Posts yet.\n                </p>\n                <li v-for=\"(post, key) in userPosts\" v-bind:key=\"key\">\n                    {{ post.title }}\n                </li>\n            </div>\n\n            <button @click=\"logout\">Logout</button>\n        </div>\n\n        <div v-else id=\"loginForm\">\n            <h2>Login</h2>\n            <small\n                >(Form is prefilled for demonstration purposes; remove in final\n                application)</small\n            >\n            <div>\n                <label>Email: <input type=\"text\" v-model=\"data.email\" /></label>\n            </div>\n            <div>\n                <label\n                    >Password: <input type=\"password\" v-model=\"data.password\"\n                /></label>\n            </div>\n\n            <button @click=\"login\">Login</button>\n\n            <ul v-if=\"errors\">\n                <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n                    {{ error }}\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\n//import { axios } from '@/common/app.js';\nimport { axios } from \"@/app.js\";\n\nexport default {\n    data() {\n        return {\n            // Form is prefilled for demonstration purposes; remove in final application\n            data: {\n                email: 'jill@harvard.edu',\n                password: 'asdfasdf',\n            },\n            errors: null,\n            userPosts: null,\n        };\n    },\n    computed: {\n        user() {\n            return this.$store.state.user;\n        },\n        // posts() {\n        //     return this.$store.state.posts;\n        // },\n    },\n    methods: {\n        login() {\n            axios.post('login', this.data).then((response) => {\n                if (response.data.authenticated) {\n                    this.$store.commit('setUser', response.data.user);\n                } else {\n                    this.errors = response.data.errors;\n                }\n            });\n        },\n        logout() {\n            axios.post('logout').then((response) => {\n                if (response.data.success) {\n                    this.$store.commit('setUser', null);\n                }\n            });\n        },\n        loadPosts(){\n            if (this.user) {\n                \n                this.userPosts = [];\n                console.log(this.userPosts);\n                axios\n                    .get('post', {\n                        //params: { user_id: this.user.id },\n                    })\n                    .then((response) => {\n                        // Iterate through the posts (response.data.results), loading the post information for each post\n                        this.userPosts = response.data.post.map(\n                            (post) => {\n                                //console.log(this.post);\n                                return this.$store.getters.getPosts(\n                                    post.id\n                                );\n                            }\n                        );\n                        //console.log(this.$store.getters.getPosts( post.id ));\n                        console.log(this.userPosts);\n                    });\n            }\n        }\n    },\n    watch: {\n        // When user changes, update posts\n        user() {\n            this.loadPosts();\n            // if (this.user) {\n                \n            //     this.userPosts = [];\n            //     console.log(this.userPosts);\n            //     axios\n            //         .get('post', {\n            //             //params: { user_id: this.user.id },\n            //         })\n            //         .then((response) => {\n            //             // Iterate through the posts (response.data.results), loading the post information for each post\n            //             this.userPosts = response.data.post.map(\n            //                 (post) => {\n            //                     //console.log(this.post);\n            //                     return this.$store.getters.getPosts(\n            //                         post.id\n            //                     );\n            //                 }\n            //             );\n            //             //console.log(this.$store.getters.getPosts( post.id ));\n            //             console.log(this.userPosts);\n            //         });\n            // }\n        },\n        mounted(){\n            this.loadPosts();\n        }\n    }\n};\n</script>\n\n"],"sourceRoot":"src/components/pages"}]}